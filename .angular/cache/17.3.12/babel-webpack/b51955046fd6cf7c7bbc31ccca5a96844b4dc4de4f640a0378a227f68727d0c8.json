{"ast":null,"code":"import { ConfirmDialogComponent } from '@app/shared/components/confirm-dialog/confirm-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@app/core/services/production.service\";\nimport * as i3 from \"@app/core/services/script.service\";\nimport * as i4 from \"@app/core/services/production-user.service\";\nimport * as i5 from \"@angular/material/dialog\";\nimport * as i6 from \"@angular/material/snack-bar\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/card\";\nimport * as i10 from \"@angular/material/icon\";\nimport * as i11 from \"@angular/material/progress-spinner\";\nimport * as i12 from \"@angular/material/tooltip\";\nconst _c0 = (a0, a1, a2, a3, a4) => ({\n  \"bg-success\": a0,\n  \"bg-warning\": a1,\n  \"bg-danger\": a2,\n  \"bg-info\": a3,\n  \"bg-secondary\": a4\n});\nfunction ProductionDetailsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"mat-spinner\", 5);\n    i0.ɵɵelementStart(2, \"p\", 6);\n    i0.ɵɵtext(3, \"Loading production details...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductionDetailsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction ProductionDetailsComponent_div_3_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"mat-icon\", 27);\n    i0.ɵɵtext(2, \"description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 6);\n    i0.ɵɵtext(4, \"No scripts added yet\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductionDetailsComponent_div_3_div_45_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 31);\n    i0.ɵɵlistener(\"click\", function ProductionDetailsComponent_div_3_div_45_tr_13_Template_tr_click_0_listener() {\n      const script_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.viewScript(script_r4.id));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const script_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(script_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(script_r4.author || \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(script_r4.version || \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 4, script_r4.createdAt));\n  }\n}\nfunction ProductionDetailsComponent_div_3_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"table\", 29)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Author\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Version\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Created\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, ProductionDetailsComponent_div_3_div_45_tr_13_Template, 10, 6, \"tr\", 30);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.scripts);\n  }\n}\nfunction ProductionDetailsComponent_div_3_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"mat-icon\", 27);\n    i0.ɵɵtext(2, \"people\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 6);\n    i0.ɵɵtext(4, \"No team members added yet\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductionDetailsComponent_div_3_div_56_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const productionUser_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((productionUser_r5.user == null ? null : productionUser_r5.user.name) || \"Unknown\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((productionUser_r5.user == null ? null : productionUser_r5.user.email) || \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(productionUser_r5.role);\n  }\n}\nfunction ProductionDetailsComponent_div_3_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"table\", 29)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Role\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, ProductionDetailsComponent_div_3_div_56_tr_11_Template, 7, 3, \"tr\", 32);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.productionUsers);\n  }\n}\nfunction ProductionDetailsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"div\")(3, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ProductionDetailsComponent_div_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.backToList());\n    });\n    i0.ɵɵelementStart(4, \"mat-icon\");\n    i0.ɵɵtext(5, \"arrow_back\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"h1\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 11);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\")(11, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ProductionDetailsComponent_div_3_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.editProduction());\n    });\n    i0.ɵɵelementStart(12, \"mat-icon\");\n    i0.ɵɵtext(13, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \" Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ProductionDetailsComponent_div_3_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.deleteProduction());\n    });\n    i0.ɵɵelementStart(16, \"mat-icon\");\n    i0.ɵɵtext(17, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" Delete \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"mat-card\", 14)(20, \"mat-card-content\")(21, \"div\", 15)(22, \"div\", 16)(23, \"h3\");\n    i0.ɵɵtext(24, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\");\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 17)(28, \"h3\");\n    i0.ɵɵtext(29, \"Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\")(31, \"strong\");\n    i0.ɵɵtext(32, \"Start Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"date\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(35, \"div\", 18)(36, \"div\", 19)(37, \"h2\", 20);\n    i0.ɵɵtext(38, \"Scripts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProductionDetailsComponent_div_3_Template_button_click_39_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.createNewScript());\n    });\n    i0.ɵɵelementStart(40, \"mat-icon\");\n    i0.ɵɵtext(41, \"add\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42, \" Add Script \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"div\", 22);\n    i0.ɵɵtemplate(44, ProductionDetailsComponent_div_3_div_44_Template, 5, 0, \"div\", 23)(45, ProductionDetailsComponent_div_3_div_45_Template, 14, 1, \"div\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(46, \"div\", 25)(47, \"div\", 19)(48, \"h2\", 20);\n    i0.ɵɵtext(49, \"Team Members\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ProductionDetailsComponent_div_3_Template_button_click_50_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.addUser());\n    });\n    i0.ɵɵelementStart(51, \"mat-icon\");\n    i0.ɵɵtext(52, \"person_add\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \" Add User \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"div\", 22);\n    i0.ɵɵtemplate(55, ProductionDetailsComponent_div_3_div_55_Template, 5, 0, \"div\", 23)(56, ProductionDetailsComponent_div_3_div_56_Template, 12, 1, \"div\", 24);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    let tmp_4_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.production.title);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction5(11, _c0, ctx_r0.production.status === \"active\", ctx_r0.production.status === \"pre-production\", ctx_r0.production.status === \"cancelled\", ctx_r0.production.status === \"completed\", !ctx_r0.production.status));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.production.status || \"No Status\", \" \");\n    i0.ɵɵadvance(17);\n    i0.ɵɵtextInterpolate((tmp_4_0 = ctx_r0.production.description) !== null && tmp_4_0 !== undefined ? tmp_4_0 : \"No description available.\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.production.startDate ? i0.ɵɵpipeBind1(34, 9, ctx_r0.production.startDate) : \"Not set\", \"\");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.scripts.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.scripts.length > 0);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.productionUsers.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.productionUsers.length > 0);\n  }\n}\nexport class ProductionDetailsComponent {\n  constructor(route, router, productionService, scriptService, productionUserService, dialog, snackBar) {\n    this.route = route;\n    this.router = router;\n    this.productionService = productionService;\n    this.scriptService = scriptService;\n    this.productionUserService = productionUserService;\n    this.dialog = dialog;\n    this.snackBar = snackBar;\n    this.production = null;\n    this.scripts = [];\n    this.productionUsers = [];\n    this.productionId = 0;\n    this.loading = true;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.productionId = +id;\n        this.loadProductionData(+id);\n      } else {\n        this.error = 'No production ID provided';\n        this.loading = false;\n      }\n    });\n  }\n  loadProductionData(id) {\n    this.loading = true;\n    this.productionService.getProduction(id).subscribe({\n      next: production => {\n        this.production = production;\n        this.loadRelatedData(id);\n      },\n      error: error => {\n        this.error = error.message || 'Failed to load production data';\n        this.loading = false;\n      }\n    });\n  }\n  loadRelatedData(productionId) {\n    // Load scripts\n    this.scriptService.getScriptsByProduction(productionId).subscribe({\n      next: scripts => {\n        this.scripts = scripts;\n      },\n      error: error => {\n        console.error('Error loading scripts:', error);\n      }\n    });\n    // Load production users\n    this.productionUserService.getProductionUsersByProduction(productionId).subscribe({\n      next: users => {\n        this.productionUsers = users;\n        this.loading = false;\n      },\n      error: error => {\n        console.error('Error loading production users:', error);\n        this.loading = false;\n      }\n    });\n  }\n  editProduction() {\n    if (this.production) {\n      this.router.navigate(['/productions', this.production.id, 'edit']);\n    }\n  }\n  deleteProduction() {\n    if (!this.production) return;\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '400px',\n      data: {\n        title: 'Delete Production',\n        message: `Are you sure you want to delete \"${this.production.title}\"? This action cannot be undone and will remove all associated data.`\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.productionService.deleteProduction(this.production.id).subscribe({\n          next: () => {\n            this.snackBar.open('Production deleted successfully', 'Close', {\n              duration: 3000,\n              panelClass: ['success-snackbar']\n            });\n            this.router.navigate(['/productions']);\n          },\n          error: error => {\n            this.snackBar.open(error.message || 'Failed to delete production', 'Close', {\n              duration: 5000,\n              panelClass: ['error-snackbar']\n            });\n          }\n        });\n      }\n    });\n  }\n  createNewScript() {\n    // Navigate to script creation page with production ID\n    this.router.navigate(['/scripts/new'], {\n      queryParams: {\n        productionId: this.productionId\n      }\n    });\n  }\n  viewScript(scriptId) {\n    this.router.navigate(['/scripts', scriptId]);\n  }\n  addUser() {\n    // Navigate to add user page with production ID\n    this.router.navigate(['/productions', this.productionId, 'users', 'new']);\n  }\n  backToList() {\n    this.router.navigate(['/productions']);\n  }\n  static {\n    this.ɵfac = function ProductionDetailsComponent_Factory(t) {\n      return new (t || ProductionDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductionService), i0.ɵɵdirectiveInject(i3.ScriptService), i0.ɵɵdirectiveInject(i4.ProductionUserService), i0.ɵɵdirectiveInject(i5.MatDialog), i0.ɵɵdirectiveInject(i6.MatSnackBar));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductionDetailsComponent,\n      selectors: [[\"app-production-details\"]],\n      decls: 4,\n      vars: 3,\n      consts: [[1, \"container\", \"mt-4\"], [\"class\", \"text-center my-5\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"text-center\", \"my-5\"], [\"diameter\", \"50\", 1, \"mx-auto\"], [1, \"mt-3\"], [1, \"alert\", \"alert-danger\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", \"matTooltip\", \"Back to Productions\", 3, \"click\"], [1, \"d-inline-block\", \"ms-2\", \"mb-0\"], [1, \"badge\", \"ms-3\", 3, \"ngClass\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"me-2\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [1, \"mb-4\"], [1, \"row\"], [1, \"col-md-8\"], [1, \"col-md-4\"], [1, \"card\", \"mb-4\"], [1, \"card-header\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"mb-0\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"card-body\"], [\"class\", \"text-center my-4\", 4, \"ngIf\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [1, \"card\"], [1, \"text-center\", \"my-4\"], [\"color\", \"primary\", 2, \"font-size\", \"48px\", \"height\", \"48px\", \"width\", \"48px\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\"], [\"style\", \"cursor: pointer;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"]],\n      template: function ProductionDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, ProductionDetailsComponent_div_1_Template, 4, 0, \"div\", 1)(2, ProductionDetailsComponent_div_2_Template, 2, 1, \"div\", 2)(3, ProductionDetailsComponent_div_3_Template, 57, 17, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error && !ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.production && !ctx.loading);\n        }\n      },\n      dependencies: [i7.NgClass, i7.NgForOf, i7.NgIf, i8.MatButton, i8.MatIconButton, i9.MatCard, i9.MatCardContent, i10.MatIcon, i11.MatProgressSpinner, i12.MatTooltip, i7.DatePipe],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["ConfirmDialogComponent","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","error","ɵɵlistener","ProductionDetailsComponent_div_3_div_45_tr_13_Template_tr_click_0_listener","script_r4","ɵɵrestoreView","_r3","$implicit","ɵɵnextContext","ɵɵresetView","viewScript","id","ɵɵtextInterpolate","title","author","version","ɵɵpipeBind1","createdAt","ɵɵtemplate","ProductionDetailsComponent_div_3_div_45_tr_13_Template","ɵɵproperty","scripts","productionUser_r5","user","name","email","role","ProductionDetailsComponent_div_3_div_56_tr_11_Template","productionUsers","ProductionDetailsComponent_div_3_Template_button_click_3_listener","_r2","backToList","ProductionDetailsComponent_div_3_Template_button_click_11_listener","editProduction","ProductionDetailsComponent_div_3_Template_button_click_15_listener","deleteProduction","ProductionDetailsComponent_div_3_Template_button_click_39_listener","createNewScript","ProductionDetailsComponent_div_3_div_44_Template","ProductionDetailsComponent_div_3_div_45_Template","ProductionDetailsComponent_div_3_Template_button_click_50_listener","addUser","ProductionDetailsComponent_div_3_div_55_Template","ProductionDetailsComponent_div_3_div_56_Template","production","ɵɵpureFunction5","_c0","status","tmp_4_0","description","undefined","startDate","length","ProductionDetailsComponent","constructor","route","router","productionService","scriptService","productionUserService","dialog","snackBar","productionId","loading","ngOnInit","paramMap","subscribe","params","get","loadProductionData","getProduction","next","loadRelatedData","message","getScriptsByProduction","console","getProductionUsersByProduction","users","navigate","dialogRef","open","width","data","afterClosed","result","duration","panelClass","queryParams","scriptId","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","ProductionService","i3","ScriptService","i4","ProductionUserService","i5","MatDialog","i6","MatSnackBar","selectors","decls","vars","consts","template","ProductionDetailsComponent_Template","rf","ctx","ProductionDetailsComponent_div_1_Template","ProductionDetailsComponent_div_2_Template","ProductionDetailsComponent_div_3_Template"],"sources":["/Users/owenbaldwin/code/owenbaldwin2/claude-lvfx-fe/src/app/features/productions/production-details/production-details.component.ts","/Users/owenbaldwin/code/owenbaldwin2/claude-lvfx-fe/src/app/features/productions/production-details/production-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\nimport { ProductionService } from '@app/core/services/production.service';\nimport { ScriptService } from '@app/core/services/script.service';\nimport { ProductionUserService } from '@app/core/services/production-user.service';\nimport { Production, Script, ProductionUser } from '@app/shared/models';\nimport { ConfirmDialogComponent } from '@app/shared/components/confirm-dialog/confirm-dialog.component';\n\n@Component({\n  selector: 'app-production-details',\n  templateUrl: './production-details.component.html',\n  styleUrls: ['./production-details.component.scss']\n})\nexport class ProductionDetailsComponent implements OnInit {\n  production: Production | null = null;\n  scripts: Script[] = [];\n  productionUsers: ProductionUser[] = [];\n  productionId: number = 0;\n  loading = true;\n  error = '';\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private productionService: ProductionService,\n    private scriptService: ScriptService,\n    private productionUserService: ProductionUserService,\n    private dialog: MatDialog,\n    private snackBar: MatSnackBar\n  ) { }\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.productionId = +id;\n        this.loadProductionData(+id);\n      } else {\n        this.error = 'No production ID provided';\n        this.loading = false;\n      }\n    });\n  }\n\n  loadProductionData(id: number): void {\n    this.loading = true;\n\n    this.productionService.getProduction(id).subscribe({\n      next: (production) => {\n        this.production = production;\n        this.loadRelatedData(id);\n      },\n      error: (error) => {\n        this.error = error.message || 'Failed to load production data';\n        this.loading = false;\n      }\n    });\n  }\n\n  loadRelatedData(productionId: number): void {\n    // Load scripts\n    this.scriptService.getScriptsByProduction(productionId).subscribe({\n      next: (scripts) => {\n        this.scripts = scripts;\n      },\n      error: (error) => {\n        console.error('Error loading scripts:', error);\n      }\n    });\n\n    // Load production users\n    this.productionUserService.getProductionUsersByProduction(productionId).subscribe({\n      next: (users) => {\n        this.productionUsers = users;\n        this.loading = false;\n      },\n      error: (error) => {\n        console.error('Error loading production users:', error);\n        this.loading = false;\n      }\n    });\n  }\n\n  editProduction(): void {\n    if (this.production) {\n      this.router.navigate(['/productions', this.production.id, 'edit']);\n    }\n  }\n\n  deleteProduction(): void {\n    if (!this.production) return;\n\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '400px',\n      data: {\n        title: 'Delete Production',\n        message: `Are you sure you want to delete \"${this.production.title}\"? This action cannot be undone and will remove all associated data.`\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.productionService.deleteProduction(this.production!.id).subscribe({\n          next: () => {\n            this.snackBar.open('Production deleted successfully', 'Close', {\n              duration: 3000,\n              panelClass: ['success-snackbar']\n            });\n            this.router.navigate(['/productions']);\n          },\n          error: (error) => {\n            this.snackBar.open(error.message || 'Failed to delete production', 'Close', {\n              duration: 5000,\n              panelClass: ['error-snackbar']\n            });\n          }\n        });\n      }\n    });\n  }\n\n  createNewScript(): void {\n    // Navigate to script creation page with production ID\n    this.router.navigate(['/scripts/new'], { queryParams: { productionId: this.productionId } });\n  }\n\n  viewScript(scriptId: number): void {\n    this.router.navigate(['/scripts', scriptId]);\n  }\n\n  addUser(): void {\n    // Navigate to add user page with production ID\n    this.router.navigate(['/productions', this.productionId, 'users', 'new']);\n  }\n\n  backToList(): void {\n    this.router.navigate(['/productions']);\n  }\n}\n","<div class=\"container mt-4\">\n  <!-- Loading spinner -->\n  <div *ngIf=\"loading\" class=\"text-center my-5\">\n    <mat-spinner diameter=\"50\" class=\"mx-auto\"></mat-spinner>\n    <p class=\"mt-3\">Loading production details...</p>\n  </div>\n\n  <!-- Error message -->\n  <div *ngIf=\"error && !loading\" class=\"alert alert-danger\">\n    {{ error }}\n  </div>\n\n  <div *ngIf=\"production && !loading\">\n    <!-- Header with actions -->\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\n      <div>\n        <button mat-icon-button color=\"primary\" (click)=\"backToList()\" matTooltip=\"Back to Productions\">\n          <mat-icon>arrow_back</mat-icon>\n        </button>\n        <h1 class=\"d-inline-block ms-2 mb-0\">{{ production.title }}</h1>\n        <span class=\"badge ms-3\" [ngClass]=\"{\n          'bg-success': production.status === 'active',\n          'bg-warning': production.status === 'pre-production',\n          'bg-danger': production.status === 'cancelled',\n          'bg-info': production.status === 'completed',\n          'bg-secondary': !production.status\n        }\">\n          {{ production.status || 'No Status' }}\n        </span>\n      </div>\n      <div>\n        <button mat-raised-button color=\"primary\" (click)=\"editProduction()\" class=\"me-2\">\n          <mat-icon>edit</mat-icon>\n          Edit\n        </button>\n        <button mat-raised-button color=\"warn\" (click)=\"deleteProduction()\">\n          <mat-icon>delete</mat-icon>\n          Delete\n        </button>\n      </div>\n    </div>\n\n    <!-- Production details card -->\n    <mat-card class=\"mb-4\">\n      <mat-card-content>\n        <div class=\"row\">\n          <div class=\"col-md-8\">\n            <h3>Description</h3>\n            <p>{{ production.description ?? 'No description available.' }}</p>\n          </div>\n          <div class=\"col-md-4\">\n            <h3>Details</h3>\n            <p><strong>Start Date:</strong> {{ production.startDate ? (production.startDate | date) : 'Not set' }}</p>\n            <!-- <p><strong>End Date:</strong> {{ production.endDate | date || 'Not set' }}</p>\n            <p><strong>Created:</strong> {{ production.createdAt | date }}</p>\n            <p><strong>Last Updated:</strong> {{ production.updatedAt | date }}</p> -->\n          </div>\n        </div>\n      </mat-card-content>\n    </mat-card>\n\n    <!-- Scripts section -->\n    <div class=\"card mb-4\">\n      <div class=\"card-header d-flex justify-content-between align-items-center\">\n        <h2 class=\"mb-0\">Scripts</h2>\n        <button mat-raised-button color=\"primary\" (click)=\"createNewScript()\">\n          <mat-icon>add</mat-icon>\n          Add Script\n        </button>\n      </div>\n      <div class=\"card-body\">\n        <div *ngIf=\"scripts.length === 0\" class=\"text-center my-4\">\n          <mat-icon style=\"font-size: 48px; height: 48px; width: 48px;\" color=\"primary\">description</mat-icon>\n          <p class=\"mt-3\">No scripts added yet</p>\n        </div>\n\n        <div *ngIf=\"scripts.length > 0\" class=\"table-responsive\">\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th>Title</th>\n                <th>Author</th>\n                <th>Version</th>\n                <th>Created</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let script of scripts\" (click)=\"viewScript(script.id)\" style=\"cursor: pointer;\">\n                <td>{{ script.title }}</td>\n                <td>{{ script.author || 'N/A' }}</td>\n                <td>{{ script.version || 'N/A' }}</td>\n                <td>{{ script.createdAt | date }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n\n    <!-- Team Members section -->\n    <div class=\"card\">\n      <div class=\"card-header d-flex justify-content-between align-items-center\">\n        <h2 class=\"mb-0\">Team Members</h2>\n        <button mat-raised-button color=\"primary\" (click)=\"addUser()\">\n          <mat-icon>person_add</mat-icon>\n          Add User\n        </button>\n      </div>\n      <div class=\"card-body\">\n        <div *ngIf=\"productionUsers.length === 0\" class=\"text-center my-4\">\n          <mat-icon style=\"font-size: 48px; height: 48px; width: 48px;\" color=\"primary\">people</mat-icon>\n          <p class=\"mt-3\">No team members added yet</p>\n        </div>\n\n        <div *ngIf=\"productionUsers.length > 0\" class=\"table-responsive\">\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Email</th>\n                <th>Role</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let productionUser of productionUsers\">\n                <td>{{ productionUser.user?.name || 'Unknown' }}</td>\n                <td>{{ productionUser.user?.email || 'N/A' }}</td>\n                <td>{{ productionUser.role }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}