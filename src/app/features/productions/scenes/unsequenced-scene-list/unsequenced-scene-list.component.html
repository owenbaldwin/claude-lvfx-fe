<div class="unsequenced-scenes-section">
  <!-- Section Header -->
  <div class="unsequenced-header">
    <h5 class="mb-3">
      <i class="bi bi-exclamation-triangle-fill text-warning me-2"></i>
      Unsequenced Scenes
    </h5>
  </div>

  <!-- Loading spinner -->
  <div *ngIf="loading" class="text-center my-3">
    <mat-spinner diameter="40" class="mx-auto"></mat-spinner>
    <p class="mt-2">Loading unsequenced scenes...</p>
  </div>

  <!-- Error message -->
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <!-- Unsequenced Scenes List -->
  <div *ngIf="!loading && !error">
    <div *ngIf="scenes.length === 0" class="alert alert-info">
      <i class="bi bi-info-circle me-2"></i>
      No unsequenced scenes found. All scenes are properly organized in sequences.
    </div>

    <div *ngFor="let scene of scenes" class="unsequenced-scene-item">
      <ul class="breakdown-rows unsequenced-scene-row">
        <li style="width: 2%;">
          <input
            type="checkbox"
            class="shot-checkbox individual-scene-checkbox"
            [id]="'check-unsequenced-scene-' + scene.id"
            [name]="'check-unsequenced-scene-' + scene.id"
            [value]="scene.id"
            [attr.data-scene-id]="scene.id">
        </li>
        <li style="width: 2%;" class="seq-border">
          <span class="text-muted">-</span>
        </li>
        <li style="width: 2%;" class="scene-border">
          <h6>{{ scene.number }}</h6>
        </li>
        <li style="width: 2%;" class="actionB-border">
          <span class="text-muted">-</span>
        </li>
        <li style="width: 2%;" class="shot-border">
          <span class="text-muted">-</span>
        </li>
        <li style="width: 2%;">
          <button
            type="button"
            class="btn-transparent"
            title="Unsequenced Scene"
            data-bs-toggle="tooltip">
            <i class="bi bi-film text-warning"></i>
          </button>
        </li>
        <li style="width: 8%;">
          <span class="badge bg-warning text-dark">Unsequenced</span>
        </li>
        <li style="width: 20%;" class="scene-location">
          {{ scene.int_ext === 'interior' ? 'INT' : 'EXT' }} - {{ scene.location }}
        </li>
        <li style="width: 5%;">
          <div class="scene-length">
            {{ scene.length || '-' }}
          </div>
          <div class="scene-length-corner"></div>
          <div class="scene-length-fold"></div>
        </li>
        <li style="width: 5%;">
          <i class="bi bi-brightness-alt-high-fill"></i> {{ scene.day_night || '-' }}
        </li>
        <li style="width: 15%;">
          <span class="text-muted">No assets</span>
        </li>
        <li style="width: 15%;">
          <span class="text-muted">No assumptions</span>
        </li>
        <li style="width: 15%;">
          <span class="text-muted">No FX</span>
        </li>
        <li style="width: 5%;">
          <app-crud-dropdown
            [entityLabel]="'Scene'"
            [elementId]="scene.id || 0"
            [addLabel]="'Add New Action Beat'"
            (add)="addActionBeat(scene.id!)"
            (edit)="editScene(scene)"
            (delete)="deleteScene(scene.id!)">
          </app-crud-dropdown>
        </li>
      </ul>
    </div>
  </div>
</div>
