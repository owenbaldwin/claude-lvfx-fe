"use strict";(self.webpackChunkclaude_lvfx_fe=self.webpackChunkclaude_lvfx_fe||[]).push([[612],{7612:(B,p,a)=>{a.r(p),a.d(p,{AuthModule:()=>U});var f=a(177),i=a(9417),u=a(9012),r=a(4438),c=a(8010),h=a(5416),d=a(8834),m=a(6467),g=a(9213),F=a(9631),v=a(9183);function b(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Email is required"),r.k0s())}function w(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Please enter a valid email"),r.k0s())}function k(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Password is required"),r.k0s())}function C(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Password must be at least 6 characters"),r.k0s())}function E(t,n){1&t&&r.nrm(0,"mat-spinner",20)}let y=(()=>{class t{constructor(s,o,e,l,N){this.formBuilder=s,this.route=o,this.router=e,this.authService=l,this.snackBar=N,this.loading=!1,this.submitted=!1,this.returnUrl="/",this.hidePassword=!0}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required,i.k0.minLength(6)]]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.authService.isAuthenticated()&&this.router.navigate([this.returnUrl])}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,!this.loginForm.invalid&&(this.loading=!0,this.authService.login(this.f.email.value,this.f.password.value).subscribe({next:()=>{this.router.navigate([this.returnUrl])},error:s=>{this.snackBar.open(s.error.message||"An error occurred during login","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.loading=!1}}))}static{this.\u0275fac=function(o){return new(o||t)(r.rXU(i.ok),r.rXU(u.nX),r.rXU(u.Ix),r.rXU(c.u),r.rXU(h.UG))}}static{this.\u0275cmp=r.VBU({type:t,selectors:[["app-login"]],decls:37,vars:9,consts:[[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-md-6","col-lg-5"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["appearance","outline",1,"w-100"],["matInput","","type","email","formControlName","email","placeholder","Enter your email","autocomplete","email"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Enter your password","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","","type","button","aria-label","Toggle password visibility",3,"click"],[1,"d-grid"],["mat-raised-button","","color","primary","type","submit",1,"w-100",3,"disabled"],["diameter","20","class","me-2",4,"ngIf"],[1,"card-footer","text-center"],["routerLink","/auth/register"],["diameter","20",1,"me-2"]],template:function(o,e){1&o&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),r.EFF(6,"Login"),r.k0s()(),r.j41(7,"div",6)(8,"form",7),r.bIt("ngSubmit",function(){return e.onSubmit()}),r.j41(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),r.EFF(12,"Email"),r.k0s(),r.nrm(13,"input",10),r.j41(14,"mat-icon",11),r.EFF(15,"email"),r.k0s(),r.DNE(16,b,2,0,"mat-error",12)(17,w,2,0,"mat-error",12),r.k0s()(),r.j41(18,"div",8)(19,"mat-form-field",9)(20,"mat-label"),r.EFF(21,"Password"),r.k0s(),r.nrm(22,"input",13),r.j41(23,"button",14),r.bIt("click",function(){return e.hidePassword=!e.hidePassword}),r.j41(24,"mat-icon"),r.EFF(25),r.k0s()(),r.DNE(26,k,2,0,"mat-error",12)(27,C,2,0,"mat-error",12),r.k0s()(),r.j41(28,"div",15)(29,"button",16),r.DNE(30,E,1,0,"mat-spinner",17),r.EFF(31," Login "),r.k0s()()()(),r.j41(32,"div",18)(33,"p",5),r.EFF(34,"Don't have an account? "),r.j41(35,"a",19),r.EFF(36,"Register"),r.k0s()()()()()()()),2&o&&(r.R7$(8),r.Y8G("formGroup",e.loginForm),r.R7$(8),r.Y8G("ngIf",null==e.f.email.errors?null:e.f.email.errors.required),r.R7$(),r.Y8G("ngIf",null==e.f.email.errors?null:e.f.email.errors.email),r.R7$(5),r.Y8G("type",e.hidePassword?"password":"text"),r.R7$(3),r.JRh(e.hidePassword?"visibility_off":"visibility"),r.R7$(),r.Y8G("ngIf",null==e.f.password.errors?null:e.f.password.errors.required),r.R7$(),r.Y8G("ngIf",null==e.f.password.errors?null:e.f.password.errors.minlength),r.R7$(2),r.Y8G("disabled",e.loading||e.loginForm.invalid),r.R7$(),r.Y8G("ngIf",e.loading))},dependencies:[f.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,u.Wk,d.$z,d.iY,m.rl,m.nJ,m.TL,m.yw,g.An,F.fg,v.LG]})}}return t})();function R(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Name is required"),r.k0s())}function j(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Email is required"),r.k0s())}function P(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Please enter a valid email"),r.k0s())}function I(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Password is required"),r.k0s())}function G(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Password must be at least 6 characters"),r.k0s())}function T(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Please confirm your password"),r.k0s())}function $(t,n){1&t&&(r.j41(0,"mat-error"),r.EFF(1,"Passwords do not match"),r.k0s())}function _(t,n){1&t&&r.nrm(0,"mat-spinner",22)}let Y=(()=>{class t{constructor(s,o,e,l){this.formBuilder=s,this.router=o,this.authService=e,this.snackBar=l,this.loading=!1,this.submitted=!1,this.hidePassword=!0,this.hideConfirmPassword=!0}ngOnInit(){this.registerForm=this.formBuilder.group({name:["",[i.k0.required]],email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required,i.k0.minLength(6)]],confirmPassword:["",i.k0.required]},{validator:this.passwordMatchValidator}),this.authService.isAuthenticated()&&this.router.navigate(["/"])}get f(){return this.registerForm.controls}passwordMatchValidator(s){const o=s.get("password")?.value,e=s.get("confirmPassword")?.value;return o===e?null:{mismatch:!0}}onSubmit(){this.submitted=!0,!this.registerForm.invalid&&(this.loading=!0,this.authService.register(this.f.name.value,this.f.email.value,this.f.password.value).subscribe({next:()=>{this.snackBar.open("Registration successful!","Close",{duration:3e3,panelClass:["success-snackbar"]}),this.router.navigate(["/"])},error:s=>{this.snackBar.open(s.error.message||"An error occurred during registration","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.loading=!1}}))}static{this.\u0275fac=function(o){return new(o||t)(r.rXU(i.ok),r.rXU(u.Ix),r.rXU(c.u),r.rXU(h.UG))}}static{this.\u0275cmp=r.VBU({type:t,selectors:[["app-register"]],decls:55,vars:14,consts:[[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-md-6","col-lg-5"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["appearance","outline",1,"w-100"],["matInput","","formControlName","name","placeholder","Enter your full name"],["matSuffix",""],[4,"ngIf"],["matInput","","type","email","formControlName","email","placeholder","Enter your email","autocomplete","email"],["matInput","","formControlName","password","placeholder","Create a password","autocomplete","new-password",3,"type"],["mat-icon-button","","matSuffix","","type","button","aria-label","Toggle password visibility",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Confirm your password","autocomplete","new-password",3,"type"],[1,"d-grid"],["mat-raised-button","","color","primary","type","submit",1,"w-100",3,"disabled"],["diameter","20","class","me-2",4,"ngIf"],[1,"card-footer","text-center"],["routerLink","/auth/login"],["diameter","20",1,"me-2"]],template:function(o,e){1&o&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),r.EFF(6,"Register"),r.k0s()(),r.j41(7,"div",6)(8,"form",7),r.bIt("ngSubmit",function(){return e.onSubmit()}),r.j41(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),r.EFF(12,"Full Name"),r.k0s(),r.nrm(13,"input",10),r.j41(14,"mat-icon",11),r.EFF(15,"person"),r.k0s(),r.DNE(16,R,2,0,"mat-error",12),r.k0s()(),r.j41(17,"div",8)(18,"mat-form-field",9)(19,"mat-label"),r.EFF(20,"Email"),r.k0s(),r.nrm(21,"input",13),r.j41(22,"mat-icon",11),r.EFF(23,"email"),r.k0s(),r.DNE(24,j,2,0,"mat-error",12)(25,P,2,0,"mat-error",12),r.k0s()(),r.j41(26,"div",8)(27,"mat-form-field",9)(28,"mat-label"),r.EFF(29,"Password"),r.k0s(),r.nrm(30,"input",14),r.j41(31,"button",15),r.bIt("click",function(){return e.hidePassword=!e.hidePassword}),r.j41(32,"mat-icon"),r.EFF(33),r.k0s()(),r.DNE(34,I,2,0,"mat-error",12)(35,G,2,0,"mat-error",12),r.k0s()(),r.j41(36,"div",8)(37,"mat-form-field",9)(38,"mat-label"),r.EFF(39,"Confirm Password"),r.k0s(),r.nrm(40,"input",16),r.j41(41,"button",15),r.bIt("click",function(){return e.hideConfirmPassword=!e.hideConfirmPassword}),r.j41(42,"mat-icon"),r.EFF(43),r.k0s()(),r.DNE(44,T,2,0,"mat-error",12)(45,$,2,0,"mat-error",12),r.k0s()(),r.j41(46,"div",17)(47,"button",18),r.DNE(48,_,1,0,"mat-spinner",19),r.EFF(49," Register "),r.k0s()()()(),r.j41(50,"div",20)(51,"p",5),r.EFF(52,"Already have an account? "),r.j41(53,"a",21),r.EFF(54,"Login"),r.k0s()()()()()()()),2&o&&(r.R7$(8),r.Y8G("formGroup",e.registerForm),r.R7$(8),r.Y8G("ngIf",null==e.f.name.errors?null:e.f.name.errors.required),r.R7$(8),r.Y8G("ngIf",null==e.f.email.errors?null:e.f.email.errors.required),r.R7$(),r.Y8G("ngIf",null==e.f.email.errors?null:e.f.email.errors.email),r.R7$(5),r.Y8G("type",e.hidePassword?"password":"text"),r.R7$(3),r.JRh(e.hidePassword?"visibility_off":"visibility"),r.R7$(),r.Y8G("ngIf",null==e.f.password.errors?null:e.f.password.errors.required),r.R7$(),r.Y8G("ngIf",null==e.f.password.errors?null:e.f.password.errors.minlength),r.R7$(5),r.Y8G("type",e.hideConfirmPassword?"password":"text"),r.R7$(3),r.JRh(e.hideConfirmPassword?"visibility_off":"visibility"),r.R7$(),r.Y8G("ngIf",null==e.f.confirmPassword.errors?null:e.f.confirmPassword.errors.required),r.R7$(),r.Y8G("ngIf",e.registerForm.hasError("mismatch")&&!(null!=e.f.confirmPassword.errors&&e.f.confirmPassword.errors.required)),r.R7$(2),r.Y8G("disabled",e.loading||e.registerForm.invalid),r.R7$(),r.Y8G("ngIf",e.loading))},dependencies:[f.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,u.Wk,d.$z,d.iY,m.rl,m.nJ,m.TL,m.yw,g.An,F.fg,v.LG]})}}return t})();var L=a(740);const S=[{path:"login",component:y},{path:"register",component:Y},{path:"",redirectTo:"login",pathMatch:"full"}];let U=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=r.$C({type:t})}static{this.\u0275inj=r.G2t({imports:[f.MD,i.X1,L.G,u.iI.forChild(S)]})}}return t})()}}]);